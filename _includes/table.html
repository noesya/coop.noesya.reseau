<style>
    table {
        border: 1px solid #000;
        grid-column: 1/12;
    }
    thead {
        background: grey;
    }
    td {
        border-right: 1px solid #000;
    }
</style>


<section>
    <table>
        <thead>
            <tr>
                <th>Prénom Nom</th>
                <th>Post</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
            {% for person in persons %}
                <tr>
                    <td>{{ person.title }}</td>
                    <td>
                        <pre class="message">
                            Aujourd'hui nous vous présentons {{ person.title }}.
                            {{ person.expertise }}
                            {% assign description = person.sections | first %}
                            {{ description.content }}
                            {{ person.url | absolute_url }}
                        </pre>
                    </td>
                    <td>
    
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</section>


<script type="text/javascript">
    const messages = document.querySelectorAll('.message');
    messages.forEach(message => {
        message.addEventListener('click', () => {
            updateClipboard(message.innerHTML);
        });
    });
    function updateClipboard(newClip) {
        navigator.clipboard.writeText(newClip).then(function() {
            message.classList.add('is-copied');
        });
    }
</script>

<style>
    .message.is-copied {
        background: rgba(0,0,0,0.1);
    }
</style>